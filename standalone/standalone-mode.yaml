deployment:
  replicaCount: 3
config:
  input:
    generate:
      interval: 1s
      count: 0
      mapping: |
        # Store the generated names in variables
        let first_name = fake("first_name")
        let last_name = fake("last_name")

        # Build the message
        root.user_id = counter()
        root.name = ($first_name + " " + $last_name)
        root.timestamp = now()
  pipeline:
    processors:
      - mapping: |
          root.name = this.name.uppercase()
  output:
    stdout: {}
