deployment:
  replicaCount: 1
config:
  input:
    label: "generate-names"
    generate:
      interval: 1s
      count: 0
      mapping: |
        # Store the generated names in variables
        let first_name = fake("first_name")
        let last_name = fake("last_name")

        # Build the message
        root.user_id = counter()
        root.name = ($first_name + " " + $last_name)
        root.timestamp = now()
  pipeline:
    processors:
      - label: "processor-uppercase-names"
        mapping: |
          root.name = this.name.uppercase()
  output:
    label: "output-uppercase-names"
    stdout: {}
